{"ast":null,"code":"import _regeneratorRuntime from\"/home/mark/React Jobly/react jobly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mark/React Jobly/react jobly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/mark/React Jobly/react jobly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import SearchForm from\"../common/SearchForm\";import JoblyApi from\"../api\";import CompaniesCard from\"./CompaniesCard\";import LoadingSpinner from\"../common/LoadingSpinner\";function CompaniesList(){console.debug(\"CompaniesList\");var _useState=useState(null),_useState2=_slicedToArray(_useState,2),companies=_useState2[0],setCompanies=_useState2[1];useEffect(function getCompaniesOnMount(){console.debug(\"CompaniesList useEffect getCompaniesOnMount\");search();},[]);/** Triggered by search form submit; reloads companies. */function search(_x){return _search.apply(this,arguments);}function _search(){_search=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(name){var companies;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return JoblyApi.getCompanies(name);case 2:companies=_context.sent;setCompanies(companies);case 4:case\"end\":return _context.stop();}}},_callee);}));return _search.apply(this,arguments);}if(!companies)return/*#__PURE__*/React.createElement(LoadingSpinner,null);return/*#__PURE__*/React.createElement(\"div\",{className:\"CompaniesList col-md-8 offset-md-2\"},/*#__PURE__*/React.createElement(SearchForm,{searchFor:search}),companies.length?/*#__PURE__*/React.createElement(\"div\",{className:\"CompaniesList-list\"},companies.map(function(c){return/*#__PURE__*/React.createElement(CompaniesCard,{key:c.handle,handle:c.handle,name:c.name,description:c.description,logoUrl:c.logoUrl});})):/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},\"Sorry, no results were found!\"));}export default CompaniesList;","map":{"version":3,"sources":["/home/mark/React Jobly/react jobly/frontend/src/Companies/CompaniesList.js"],"names":["React","useState","useEffect","SearchForm","JoblyApi","CompaniesCard","LoadingSpinner","CompaniesList","console","debug","companies","setCompanies","getCompaniesOnMount","search","name","getCompanies","length","map","c","handle","description","logoUrl"],"mappings":"meAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,QAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,cAAP,KAA2B,0BAA3B,CAGA,QAASC,CAAAA,aAAT,EAAyB,CACvBC,OAAO,CAACC,KAAR,CAAc,eAAd,EAEA,cAAkCR,QAAQ,CAAC,IAAD,CAA1C,wCAAOS,SAAP,eAAkBC,YAAlB,eAEAT,SAAS,CAAC,QAASU,CAAAA,mBAAT,EAA+B,CACvCJ,OAAO,CAACC,KAAR,CAAc,6CAAd,EACAI,MAAM,GACP,CAHQ,CAGN,EAHM,CAAT,CAKA,0DAVuB,QAWRA,CAAAA,MAXQ,8HAWvB,iBAAsBC,IAAtB,sJACwBV,CAAAA,QAAQ,CAACW,YAAT,CAAsBD,IAAtB,CADxB,QACMJ,SADN,eAEEC,YAAY,CAACD,SAAD,CAAZ,CAFF,sDAXuB,yCAgBvB,GAAI,CAACA,SAAL,CAAgB,mBAAO,oBAAC,cAAD,MAAP,CAEhB,mBACI,2BAAK,SAAS,CAAC,oCAAf,eACE,oBAAC,UAAD,EAAY,SAAS,CAAEG,MAAvB,EADF,CAEGH,SAAS,CAACM,MAAV,cAEO,2BAAK,SAAS,CAAC,oBAAf,EACGN,SAAS,CAACO,GAAV,CAAc,SAAAC,CAAC,qBACZ,oBAAC,aAAD,EACI,GAAG,CAAEA,CAAC,CAACC,MADX,CAEI,MAAM,CAAED,CAAC,CAACC,MAFd,CAGI,IAAI,CAAED,CAAC,CAACJ,IAHZ,CAII,WAAW,CAAEI,CAAC,CAACE,WAJnB,CAKI,OAAO,CAAEF,CAAC,CAACG,OALf,EADY,EAAf,CADH,CAFP,cAcO,yBAAG,SAAS,CAAC,MAAb,kCAhBV,CADJ,CAqBD,CAED,cAAed,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport SearchForm from \"../common/SearchForm\";\nimport JoblyApi from \"../api\";\nimport CompaniesCard from \"./CompaniesCard\";\nimport LoadingSpinner from \"../common/LoadingSpinner\";\n\n\nfunction CompaniesList() {\n  console.debug(\"CompaniesList\");\n\n  const [companies, setCompanies] = useState(null);\n\n  useEffect(function getCompaniesOnMount() {\n    console.debug(\"CompaniesList useEffect getCompaniesOnMount\");\n    search();\n  }, []);\n\n  /** Triggered by search form submit; reloads companies. */\n  async function search(name) {\n    let companies = await JoblyApi.getCompanies(name);\n    setCompanies(companies);\n  }\n\n  if (!companies) return <LoadingSpinner />;\n\n  return (\n      <div className=\"CompaniesList col-md-8 offset-md-2\">\n        <SearchForm searchFor={search} />\n        {companies.length\n            ? (\n                <div className=\"CompaniesList-list\">\n                  {companies.map(c => (\n                      <CompaniesCard\n                          key={c.handle}\n                          handle={c.handle}\n                          name={c.name}\n                          description={c.description}\n                          logoUrl={c.logoUrl}\n                      />\n                  ))}\n                </div>\n            ) : (\n                <p className=\"lead\">Sorry, no results were found!</p>\n            )}\n      </div>\n  );\n}\n\nexport default CompaniesList;\n"]},"metadata":{},"sourceType":"module"}