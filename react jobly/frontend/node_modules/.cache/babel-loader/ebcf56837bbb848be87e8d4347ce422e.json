{"ast":null,"code":"import _regeneratorRuntime from\"/home/mark/React Jobly/react jobly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/home/mark/React Jobly/react jobly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/mark/React Jobly/react jobly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/mark/React Jobly/react jobly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/mark/React Jobly/react jobly/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import Alert from\"../common/Alert\";import JoblyImg from\"../Jobly.png\";import\"./SignupForm.css\";function SignupForm(_ref){var signup=_ref.signup;var history=useHistory();var _useState=useState({username:\"\",password:\"\",firstName:\"\",lastName:\"\",email:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];console.debug(\"SignupForm\",\"signup=\",typeof signup,\"formData=\",formData,\"formErrors=\",formErrors);/** Handle form submit:\n   *\n   * Calls login func prop and, if successful, redirect to /companies.\n   */function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}/** Update form data field */function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(evt){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();_context.next=3;return signup(formData);case 3:result=_context.sent;if(result.success){history.push(\"/companies\");}else{setFormErrors(result.errors);}case 5:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}function handleChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;setFormData(function(data){return _objectSpread(_objectSpread({},data),{},_defineProperty({},name,value));});}return/*#__PURE__*/React.createElement(\"div\",{className:\"SignupForm\",style:{backgroundImage:\"url(\".concat(JoblyImg,\")\")}},/*#__PURE__*/React.createElement(\"h2\",{className:\"mb-3\"},\"Sign Up\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"label\",null,\"Username\"),/*#__PURE__*/React.createElement(\"input\",{name:\"username\",className:\"form-control\",value:formData.username,onChange:handleChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",value:formData.password,onChange:handleChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"First name\"),/*#__PURE__*/React.createElement(\"input\",{name:\"firstName\",className:\"form-control\",value:formData.firstName,onChange:handleChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Last name\"),/*#__PURE__*/React.createElement(\"input\",{name:\"lastName\",className:\"form-control\",value:formData.lastName,onChange:handleChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",value:formData.email,onChange:handleChange}),formErrors.length?/*#__PURE__*/React.createElement(Alert,{type:\"danger\",messages:formErrors}):null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary float-right\",onSubmit:handleSubmit},\"Submit\")));}export default SignupForm;","map":{"version":3,"sources":["/home/mark/React Jobly/react jobly/frontend/src/Signup/SignupForm.js"],"names":["React","useState","useHistory","Alert","JoblyImg","SignupForm","signup","history","username","password","firstName","lastName","email","formData","setFormData","formErrors","setFormErrors","console","debug","handleSubmit","evt","preventDefault","result","success","push","errors","handleChange","target","name","value","data","backgroundImage","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\nimport JoblyImg from \"../Jobly.png\";\nimport \"./SignupForm.css\";\n\nfunction SignupForm({ signup }) {\n  const history = useHistory();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n  });\n  const [formErrors, setFormErrors] = useState([]);\n\n  console.debug(\n      \"SignupForm\",\n      \"signup=\", typeof signup,\n      \"formData=\", formData,\n      \"formErrors=\", formErrors,\n  );\n\n  /** Handle form submit:\n   *\n   * Calls login func prop and, if successful, redirect to /companies.\n   */\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    let result = await signup(formData);\n    if (result.success) {\n      history.push(\"/companies\");\n    } else {\n      setFormErrors(result.errors);\n    }\n  }\n\n  /** Update form data field */\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setFormData(data => ({ ...data, [name]: value }));\n  }\n\n  return (\n      <div className=\"SignupForm\" style={{ backgroundImage: `url(${JoblyImg})` }} >\n        \n          <h2 className=\"mb-3\">Sign Up</h2>\n          \n              <form onSubmit={handleSubmit}>\n                \n                  <label>Username</label>\n                  <input\n                      name=\"username\"\n                      className=\"form-control\"\n                      value={formData.username}\n                      onChange={handleChange}/>\n                  <br></br>               \n                  <label>Password</label>\n                  <input\n                      type=\"password\"\n                      name=\"password\"\n                      className=\"form-control\"\n                      value={formData.password}\n                      onChange={handleChange}/>\n                   <br></br>          \n                  <label>First name</label>\n                  <input\n                      name=\"firstName\"\n                      className=\"form-control\"\n                      value={formData.firstName}\n                      onChange={handleChange}/>\n               <br></br> \n                  <label>Last name</label>\n                  <input\n                      name=\"lastName\"\n                      className=\"form-control\"\n                      value={formData.lastName}\n                      onChange={handleChange}/>\n               <br></br> \n                  <label>Email</label>\n                  <input\n                      type=\"email\"\n                      name=\"email\"\n                      className=\"form-control\"\n                      value={formData.email}\n                      onChange={handleChange}/>\n               \n\n                {formErrors.length\n                    ? <Alert type=\"danger\" messages={formErrors} />\n                    : null\n                }\n                <br></br> \n                <button\n                    type=\"submit\"\n                    className=\"btn btn-primary float-right\"\n                    onSubmit={handleSubmit}>\n                  Submit\n                </button>\n              </form>\n            </div>\n        \n  );\n}\n\nexport default SignupForm;"]},"metadata":{},"sourceType":"module"}